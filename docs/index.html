<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Company Wrapped</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;800&display=swap" rel="stylesheet">

    <style>
        :root {
            /* SCOPE.md: Colors */
            --bg-color: #f7f7f7;
            /* "Subtle off-white" - actually using a very light grey/white mix */
            --text-color: #5e6565;
            /* Gray text */
            --accent-color: #79b533;
            /* Green accent */
        }

        body,
        html {
            margin: 0;
            padding: 0;
            width: 100%;
            font-family: 'Outfit', sans-serif;
            background: linear-gradient(135deg, #ffffff 0%, #f4f4f4 100%);
            /* Subtle off-white diagonal gradient */
            background-attachment: fixed;
            color: var(--text-color);
            overflow-x: hidden;
        }

        /* Container for all scrollytelling sections */
        #app {
            width: 100%;
            position: relative;
        }

        /* Individual Story Block */
        .story-block {
            min-height: 100vh;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 2rem;
            box-sizing: border-box;

            /* CSS Scroll-Driven Animation Trigger - View Timeline */
            view-timeline-name: --block-timeline;
            view-timeline-axis: block;
        }

        .content-wrapper {
            max-width: 900px;
            text-align: center;
            z-index: 2;

            /* Entrance and Exit Animations linked to the scroll timeline */
            animation-timeline: --block-timeline;
            animation-name: fade-in-out;
            animation-fill-mode: both;

            /* The range where the animation happens:
               0% - 20%: Entry (Fade In)
               20% - 80%: Active/Visible
               80% - 100%: Exit (Fade Out) 
            */
            animation-range: entry 0% entry 100%, exit 0% exit 100%;
        }

        /* Fallback / More specific animation definition for valid properties */
        @keyframes fade-in-out {
            entry 0% {
                opacity: 0;
                transform: translateY(50px);
            }

            entry 100% {
                opacity: 1;
                transform: translateY(0);
            }

            exit 0% {
                opacity: 1;
                transform: translateY(0);
            }

            exit 100% {
                opacity: 0;
                transform: translateY(-50px);
            }
        }

        /* Active "Alive" State - Continuous subtle float */
        .content-wrapper.active-anim {
            animation: float 6s ease-in-out infinite, fade-in-out auto linear;
            /* Combine time-based and scroll-based */
            animation-composition: add;
            /* Ensure they layer nicely */
        }

        /* Note: 'animation-composition' support varies. 
           Alternative strategy: Wrap content in an inner div for the float. */

        .animated-inner {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-15px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        .headline {
            font-size: clamp(2.5rem, 5vw, 5rem);
            font-weight: 800;
            margin-bottom: 1rem;
            line-height: 1.1;
            color: var(--text-color);
            /* Main text color */
        }

        /* Hero specific override to be darker/stronger? Or keep unifed? 
           SCOPE: "headline and subtext should animate slightly differently"
        */

        .stat-value-container {
            margin: 2rem 0;
            position: relative;
        }

        .stat-value {
            font-size: clamp(5rem, 12vw, 10rem);
            font-weight: 800;
            color: var(--accent-color);
            display: inline-block;
            line-height: 1;
        }

        .stat-unit {
            font-size: clamp(1.5rem, 3vw, 2.5rem);
            font-weight: 300;
            color: var(--accent-color);
            display: block;
            margin-top: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .subtext {
            font-size: clamp(1.2rem, 2vw, 1.8rem);
            font-weight: 300;
            color: var(--text-color);
            margin-bottom: 2rem;
            line-height: 1.5;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Staggered animation for text elements (Standard CSS delay) */
        .headline {
            animation-delay: 0s;
        }

        .stat-value-container {
            animation-delay: 0.1s;
        }

        .subtext {
            animation-delay: 0.2s;
        }

        .hero-subtext {
            color: var(--text-color);
        }

        img.story-graphic {
            max-height: 300px;
            display: block;
            margin: 0 auto 2rem auto;
            width: auto;
            max-width: 80%;
        }

        /* Scroll Prompt */
        .scroll-prompt {
            margin-top: 2rem;
            font-size: 1rem;
            opacity: 0.5;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {

            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateY(0);
            }

            40% {
                transform: translateY(-10px);
            }

            60% {
                transform: translateY(-5px);
            }
        }
    </style>
</head>

<body>

    <div id="app"></div>

    <!-- Data Source -->
    <script>
        window.wrappedData = [
            {
                "type": "hero",
                "text": "2025",
                "subtext": "Your Company Wrapped",
                "animation": "float"
            },
            {
                "type": "stat",
                "header": "We've crimped",
                "value": "27,000",
                "unit": "pins",
                "context": "That's like shaking hands with everyone in Key West!",
                "image": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iMjAiIGZpbGw9IiMyQTJBMkEiLz4KPGNpcmNsZSBjeD0iMjAwIiBjeT0iMTUwIiByPSI4MCIgZmlsbD0iI0ZGNEQ0RCIgZmlsbC1vcGFjaXR5PSIwLjIiLz4KPHBhdGggZD0iTTE1MCAyMDBMMjUwIDEwMCIgc3Ryb2tlPSIjRkY0RDREIiBzdHJva2Utd2lkdGg9IjEwIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPHBhdGggZD0iTTE1MCAxMDBMMjUwIDIwMCIgc3Ryb2tlPSIjRkY0RDREIiBzdHJva2Utd2lkdGg9IjEwIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPHRleHQgeD0iNTAlIiB5PSI5MCUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiNhYWEiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIj4yNywwMDAgUGVuczwvdGV4dD4KPC9zdmc+Cg==",
                "animation": "slide-up"
            },
            {
                "type": "stat",
                "header": "Coffee consumed",
                "value": "4,500",
                "unit": "gallons",
                "context": "fueling innovation, one cup at a time.",
                "image": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iMjAiIGZpbGw9IiMyQTJBMkEiLz4KPHBhdGggZD0iTTE0MCAxMDBIMjYwVjIyMEMyNjAgMjMxLjA0NiAyNTEuMDQ2IDI0MCAyNDAgMjQwSDE2MEMxNDguOTU0IDI0MCAxNDAgMjMxLjA0NiAxNDAgMjIwVjEwMFoiIHN0cm9rZT0iI0ZGNEQ0RCIgc3Ryb2tlLXdpZHRoPSIxMCIvPgo8cGF0aCBkPSJNMjYwIDEyMEgyODBDMjkxLjA0NiAxMjAgMzAwIDEyOC45NTQgMzAwIDE0MFYxNjBDMzAwIDE3MS4wNDYgMjkxLjA0NiAxODAgMjgwIDE4MEgyNjAiIHN0cm9rZT0iI0ZGNEQ0RCIgc3Ryb2tlLXdpZHRoPSIxMCIvPgo8dGV4dCB4PSI1MCUiIHk9IjkwJSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iI2FhYSIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjAiPjE1MGtnIENvZmZlZTwvdGV4dD4KPC9zdmc+Cg==",
                "animation": "zoom-in"
            },
            {
                "type": "text",
                "text": "But it wasn't just about the numbers..."
            },
            {
                "type": "stat",
                "header": "New hires",
                "value": "12",
                "unit": "legends",
                "context": "Welcome to the family!"
            },
            {
                "type": "outro",
                "text": "Here's to 2026!",
                "subtext": "Let's make it even better."
            }
        ];
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const app = document.getElementById('app');
            const data = window.wrappedData || [];

            data.forEach((item, index) => {
                const section = document.createElement('section');
                section.className = `story-block type-${item.type}`;
                section.id = `block-${index}`;

                let contentHTML = '';

                // Hero & Outro
                if (item.type === 'hero') {
                    contentHTML = `
                        <div class="headline hero-text" style="font-size: clamp(3rem, 8vw, 6rem);">${item.text}</div>
                        <div class="subtext hero-subtext" style="font-size: 1.5rem; letter-spacing: 3px; text-transform: uppercase;">${item.subtext}</div>
                        <div class="scroll-prompt">↓ Scroll Down ↓</div>
                    `;
                } else if (item.type === 'outro') {
                    contentHTML = `
                        <div class="headline outro-text">${item.text}</div>
                        <div class="subtext outro-subtext">${item.subtext}</div>
                    `;
                }
                // Stats & Text
                else if (item.type === 'stat') {
                    let imageHTML = '';
                    if (item.image) {
                        imageHTML = `<img src="${item.image}" alt="${item.header}" class="story-graphic">`;
                    }
                    contentHTML = `
                        ${imageHTML}
                        <div class="headline stat-header">${item.header}</div>
                        <div class="stat-value-container">
                            <span class="stat-value">${item.value}</span>
                            <span class="stat-unit">${item.unit}</span>
                        </div>
                        <div class="subtext stat-context">${item.context}</div>
                    `;
                } else if (item.type === 'text') {
                    contentHTML = `
                        <div class="headline text-only" style="font-weight: 500;">${item.text}</div>
                    `;
                }

                // Wrap in animated-inner for the constant floating motion separate from scroll
                section.innerHTML = `
                    <div class="content-wrapper">
                        <div class="animated-inner">
                            ${contentHTML}
                        </div>
                    </div>
                `;
                app.appendChild(section);
            });
        });
    </script>
</body>

</html>